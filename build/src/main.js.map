{"version":3,"sources":["../../src/main.js"],"names":["instance","options","rootId","pseudoStatesToForce","length","ruleMatches","normalizedResults","console","log","JSON","stringify","close","main"],"mappings":";;;;;;AACA;;AACA;;AACA;;;;;;;;AAEA;;;;uDAGe,iBAAqBA,QAArB,EAA+BC,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACb;;AAEA;AAHa;AAAA,mBAIgB,iCAAkBD,QAAlB,CAJhB;;AAAA;AAIPE,kBAJO;;AAAA,iBAOTD,QAAQE,mBAAR,CAA4BC,MAPnB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQL,oCAAkBJ,QAAlB,EAA4BE,MAA5B,EAAoCD,OAApC,CARK;;AAAA;AAAA;AAAA,mBAY0B,gCAAiBD,QAAjB,EAA2BE,MAA3B,EAAmCD,OAAnC,CAZ1B;;AAAA;AAYPI,uBAZO;AAAA;AAAA,mBAegC,2BAAgBL,QAAhB,EAA0BC,OAA1B,EAAmCI,WAAnC,CAfhC;;AAAA;AAePC,6BAfO;;AAgBbC,oBAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeJ,iBAAf,EAAkC,IAAlC,EAAwC,CAAxC,CAAZ;;AAEAN,qBAASW,KAAT;;AAlBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;WAAeC,I;;;;SAAAA,I","file":"main.js","sourcesContent":["// @flow\nimport { applyPseudoStates } from './chrome/preparePage';\nimport { getElementStyles, getDocumentRootId } from './chrome/elements';\nimport diffRuleMatches from './diff/processDiff';\n\n/**\n * Function to execute once the page loads in Canary.\n */\nexport default async function main (instance, options) {\n  debugger;\n\n  // Get root node\n  const rootId: number = await getDocumentRootId(instance);\n\n  // Apply pseudo-states\n  if (options.pseudoStatesToForce.length) {\n    await applyPseudoStates(instance, rootId, options);\n  }\n\n  // Get element styles\n  const ruleMatches: RuleMatch[] = await getElementStyles(instance, rootId, options);\n\n  // Diff everything\n  const normalizedResults: DiffResults = await diffRuleMatches(instance, options, ruleMatches);\n  console.log(JSON.stringify(normalizedResults, null, 2));\n\n  instance.close();\n}\n"]}